<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Regresión | Minería de datos con R</title>
  <meta name="description" content="Este libro esta destinado a la materia de Programación Estadística II de la carrera de Estadística de la Universidad Mayor de San Andres." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Regresión | Minería de datos con R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro esta destinado a la materia de Programación Estadística II de la carrera de Estadística de la Universidad Mayor de San Andres." />
  <meta name="github-repo" content="alvarolimber/est-384" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Regresión | Minería de datos con R" />
  
  <meta name="twitter:description" content="Este libro esta destinado a la materia de Programación Estadística II de la carrera de Estadística de la Universidad Mayor de San Andres." />
  

<meta name="author" content="Alvaro Chirino Gutierrez" />


<meta name="date" content="2020-07-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="clustering.html"/>
<link rel="next" href="clasificación.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#audiencia"><i class="fa fa-check"></i>Audiencia</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura-del-libro"><i class="fa fa-check"></i>Estructura del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-y-acuerdos"><i class="fa fa-check"></i>Software y acuerdos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#datos"><i class="fa fa-check"></i>Datos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimiento"><i class="fa fa-check"></i>Agradecimiento</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acerca-del-autor.html"><a href="acerca-del-autor.html"><i class="fa fa-check"></i>Acerca del autor</a><ul>
<li class="chapter" data-level="" data-path="acerca-del-autor.html"><a href="acerca-del-autor.html#bibliografía"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="minería-de-datos.html"><a href="minería-de-datos.html"><i class="fa fa-check"></i><b>1</b> Minería de Datos</a><ul>
<li class="chapter" data-level="1.1" data-path="minería-de-datos.html"><a href="minería-de-datos.html#motivación-para-la-mineria-de-datos"><i class="fa fa-check"></i><b>1.1</b> Motivación para la Mineria de datos</a></li>
<li class="chapter" data-level="1.2" data-path="minería-de-datos.html"><a href="minería-de-datos.html#qué-es-la-minería-de-datos"><i class="fa fa-check"></i><b>1.2</b> ¿Qué es la minería de datos?</a></li>
<li class="chapter" data-level="1.3" data-path="minería-de-datos.html"><a href="minería-de-datos.html#datos-y-conocimiento"><i class="fa fa-check"></i><b>1.3</b> Datos y conocimiento</a><ul>
<li class="chapter" data-level="1.3.1" data-path="minería-de-datos.html"><a href="minería-de-datos.html#datos-1"><i class="fa fa-check"></i><b>1.3.1</b> Datos:</a></li>
<li class="chapter" data-level="1.3.2" data-path="minería-de-datos.html"><a href="minería-de-datos.html#conocimiento"><i class="fa fa-check"></i><b>1.3.2</b> Conocimiento:</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="minería-de-datos.html"><a href="minería-de-datos.html#requerimientos"><i class="fa fa-check"></i><b>1.4</b> Requerimientos</a></li>
<li class="chapter" data-level="1.5" data-path="minería-de-datos.html"><a href="minería-de-datos.html#knowledge-discovery-in-databases-kdd"><i class="fa fa-check"></i><b>1.5</b> knowledge discovery in databases (KDD)</a></li>
<li class="chapter" data-level="1.6" data-path="minería-de-datos.html"><a href="minería-de-datos.html#preparación-de-los-datos"><i class="fa fa-check"></i><b>1.6</b> Preparación de los datos</a><ul>
<li class="chapter" data-level="1.6.1" data-path="minería-de-datos.html"><a href="minería-de-datos.html#recopilación"><i class="fa fa-check"></i><b>1.6.1</b> Recopilación</a></li>
<li class="chapter" data-level="1.6.2" data-path="minería-de-datos.html"><a href="minería-de-datos.html#data-warehouse"><i class="fa fa-check"></i><b>1.6.2</b> Data Warehouse</a></li>
<li class="chapter" data-level="1.6.3" data-path="minería-de-datos.html"><a href="minería-de-datos.html#data-warehouse-in-r"><i class="fa fa-check"></i><b>1.6.3</b> Data Warehouse in R</a></li>
<li class="chapter" data-level="1.6.4" data-path="minería-de-datos.html"><a href="minería-de-datos.html#importación"><i class="fa fa-check"></i><b>1.6.4</b> Importación</a></li>
<li class="chapter" data-level="1.6.5" data-path="minería-de-datos.html"><a href="minería-de-datos.html#recopilación-1"><i class="fa fa-check"></i><b>1.6.5</b> Recopilación</a></li>
<li class="chapter" data-level="1.6.6" data-path="minería-de-datos.html"><a href="minería-de-datos.html#limpieza"><i class="fa fa-check"></i><b>1.6.6</b> Limpieza</a></li>
<li class="chapter" data-level="1.6.7" data-path="minería-de-datos.html"><a href="minería-de-datos.html#ejercicio-reshape"><i class="fa fa-check"></i><b>1.6.7</b> Ejercicio (reshape)</a></li>
<li class="chapter" data-level="1.6.8" data-path="minería-de-datos.html"><a href="minería-de-datos.html#limpieza-fechas"><i class="fa fa-check"></i><b>1.6.8</b> Limpieza (fechas)</a></li>
<li class="chapter" data-level="1.6.9" data-path="minería-de-datos.html"><a href="minería-de-datos.html#limpieza-string"><i class="fa fa-check"></i><b>1.6.9</b> Limpieza (String)</a></li>
<li class="chapter" data-level="1.6.10" data-path="minería-de-datos.html"><a href="minería-de-datos.html#transfomración"><i class="fa fa-check"></i><b>1.6.10</b> Transfomración</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="minería-de-datos.html"><a href="minería-de-datos.html#imputación-de-variables"><i class="fa fa-check"></i><b>1.7</b> Imputación de variables</a><ul>
<li class="chapter" data-level="1.7.1" data-path="minería-de-datos.html"><a href="minería-de-datos.html#la-falta-de-información-es-información"><i class="fa fa-check"></i><b>1.7.1</b> La falta de información es información</a></li>
<li class="chapter" data-level="1.7.2" data-path="minería-de-datos.html"><a href="minería-de-datos.html#aproximación-formal"><i class="fa fa-check"></i><b>1.7.2</b> Aproximación formal</a></li>
<li class="chapter" data-level="1.7.3" data-path="minería-de-datos.html"><a href="minería-de-datos.html#mcar-mar-mnar"><i class="fa fa-check"></i><b>1.7.3</b> MCAR, MAR, MNAR</a></li>
<li class="chapter" data-level="1.7.4" data-path="minería-de-datos.html"><a href="minería-de-datos.html#alternativas-para-trabajar-con-los-missings-ad-hoc"><i class="fa fa-check"></i><b>1.7.4</b> Alternativas para trabajar con los Missings (Ad-hoc)</a></li>
<li class="chapter" data-level="1.7.5" data-path="minería-de-datos.html"><a href="minería-de-datos.html#imputación-multiple"><i class="fa fa-check"></i><b>1.7.5</b> Imputación Multiple</a></li>
<li class="chapter" data-level="1.7.6" data-path="minería-de-datos.html"><a href="minería-de-datos.html#patrones-en-datos-multivariados"><i class="fa fa-check"></i><b>1.7.6</b> Patrones en datos multivariados</a></li>
<li class="chapter" data-level="1.7.7" data-path="minería-de-datos.html"><a href="minería-de-datos.html#influx-and-outflux"><i class="fa fa-check"></i><b>1.7.7</b> Influx and outflux</a></li>
<li class="chapter" data-level="1.7.8" data-path="minería-de-datos.html"><a href="minería-de-datos.html#imputación-de-datos-monótonos"><i class="fa fa-check"></i><b>1.7.8</b> Imputación de datos monótonos</a></li>
<li class="chapter" data-level="1.7.9" data-path="minería-de-datos.html"><a href="minería-de-datos.html#multivariate-imputation-by-chained-equations-mice"><i class="fa fa-check"></i><b>1.7.9</b> Multivariate Imputation by Chained Equations (mice)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="modelado-en-minería-de-datos.html"><a href="modelado-en-minería-de-datos.html"><i class="fa fa-check"></i><b>2</b> Modelado en Minería de datos</a><ul>
<li class="chapter" data-level="2.1" data-path="modelado-en-minería-de-datos.html"><a href="modelado-en-minería-de-datos.html#explorando-los-datos"><i class="fa fa-check"></i><b>2.1</b> Explorando los datos</a><ul>
<li class="chapter" data-level="2.1.1" data-path="modelado-en-minería-de-datos.html"><a href="modelado-en-minería-de-datos.html#resumen-de-los-datos"><i class="fa fa-check"></i><b>2.1.1</b> Resumen de los datos</a></li>
<li class="chapter" data-level="2.1.2" data-path="modelado-en-minería-de-datos.html"><a href="modelado-en-minería-de-datos.html#visualización"><i class="fa fa-check"></i><b>2.1.2</b> Visualización</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="modelado-en-minería-de-datos.html"><a href="modelado-en-minería-de-datos.html#componentes-principales"><i class="fa fa-check"></i><b>2.2</b> Componentes Principales</a></li>
<li class="chapter" data-level="2.3" data-path="modelado-en-minería-de-datos.html"><a href="modelado-en-minería-de-datos.html#análisis-de-correspondencia"><i class="fa fa-check"></i><b>2.3</b> Análisis de correspondencia</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>3</b> Clustering</a><ul>
<li class="chapter" data-level="3.1" data-path="clustering.html"><a href="clustering.html#medidas-de-disimilaridad"><i class="fa fa-check"></i><b>3.1</b> Medidas de Disimilaridad</a><ul>
<li class="chapter" data-level="3.1.1" data-path="clustering.html"><a href="clustering.html#distancia-euclideana-variables-numéricas"><i class="fa fa-check"></i><b>3.1.1</b> Distancia Euclideana: Variables numéricas</a></li>
<li class="chapter" data-level="3.1.2" data-path="clustering.html"><a href="clustering.html#distancia-manhattan-p-grande"><i class="fa fa-check"></i><b>3.1.2</b> Distancia Manhattan: <span class="math inline">\(p\)</span> grande</a></li>
<li class="chapter" data-level="3.1.3" data-path="clustering.html"><a href="clustering.html#distancia-minkowski"><i class="fa fa-check"></i><b>3.1.3</b> Distancia Minkowski</a></li>
<li class="chapter" data-level="3.1.4" data-path="clustering.html"><a href="clustering.html#programando"><i class="fa fa-check"></i><b>3.1.4</b> programando</a></li>
<li class="chapter" data-level="3.1.5" data-path="clustering.html"><a href="clustering.html#variables-cualitativas"><i class="fa fa-check"></i><b>3.1.5</b> Variables cualitativas</a></li>
<li class="chapter" data-level="3.1.6" data-path="clustering.html"><a href="clustering.html#datos-mixtos"><i class="fa fa-check"></i><b>3.1.6</b> Datos mixtos</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="clustering.html"><a href="clustering.html#métodos-de-clustering"><i class="fa fa-check"></i><b>3.2</b> Métodos de clustering</a></li>
<li class="chapter" data-level="3.3" data-path="clustering.html"><a href="clustering.html#k-center-clustering-no-jerárquicos"><i class="fa fa-check"></i><b>3.3</b> K-center Clustering (no jerárquicos)</a><ul>
<li class="chapter" data-level="3.3.1" data-path="clustering.html"><a href="clustering.html#validación-cluster"><i class="fa fa-check"></i><b>3.3.1</b> Validación cluster</a></li>
<li class="chapter" data-level="3.3.2" data-path="clustering.html"><a href="clustering.html#distancias-para-variables-nominales-todas-nominales"><i class="fa fa-check"></i><b>3.3.2</b> Distancias para variables nominales (todas nominales)</a></li>
<li class="chapter" data-level="3.3.3" data-path="clustering.html"><a href="clustering.html#distancias-para-variables-mixtas-cuantitativas-nominales-ordinales"><i class="fa fa-check"></i><b>3.3.3</b> Distancias para variables mixtas (cuantitativas, nominales, ordinales)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="clustering.html"><a href="clustering.html#cluster-jerárquico"><i class="fa fa-check"></i><b>3.4</b> Cluster Jerárquico</a><ul>
<li class="chapter" data-level="3.4.1" data-path="clustering.html"><a href="clustering.html#algoritmo-johnson"><i class="fa fa-check"></i><b>3.4.1</b> Algoritmo (Johnson)</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="clustering.html"><a href="clustering.html#ejercicios"><i class="fa fa-check"></i><b>3.5</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regresión.html"><a href="regresión.html"><i class="fa fa-check"></i><b>4</b> Regresión</a><ul>
<li class="chapter" data-level="4.1" data-path="regresión.html"><a href="regresión.html#regresión-lineal"><i class="fa fa-check"></i><b>4.1</b> Regresión lineal</a><ul>
<li class="chapter" data-level="4.1.1" data-path="regresión.html"><a href="regresión.html#paso-1-base-de-datos"><i class="fa fa-check"></i><b>4.1.1</b> Paso 1: Base de datos</a></li>
<li class="chapter" data-level="4.1.2" data-path="regresión.html"><a href="regresión.html#paso-2-establecer-la-relación-de-interés."><i class="fa fa-check"></i><b>4.1.2</b> Paso 2: Establecer la relación de interés.</a></li>
<li class="chapter" data-level="4.1.3" data-path="regresión.html"><a href="regresión.html#paso-3-definir-el-modelo-a-utilizar"><i class="fa fa-check"></i><b>4.1.3</b> Paso 3: Definir el modelo a utilizar</a></li>
<li class="chapter" data-level="4.1.4" data-path="regresión.html"><a href="regresión.html#paso-4-optimizar-el-modelo"><i class="fa fa-check"></i><b>4.1.4</b> Paso 4: Optimizar el modelo</a></li>
<li class="chapter" data-level="4.1.5" data-path="regresión.html"><a href="regresión.html#paso-5-validar-el-modelo"><i class="fa fa-check"></i><b>4.1.5</b> Paso 5: Validar el modelo</a></li>
<li class="chapter" data-level="4.1.6" data-path="regresión.html"><a href="regresión.html#paso-6-predicir-a-partir-del-modelo"><i class="fa fa-check"></i><b>4.1.6</b> Paso 6: Predicir a partir del modelo</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="regresión.html"><a href="regresión.html#probit-y-logit"><i class="fa fa-check"></i><b>4.2</b> Probit y Logit</a><ul>
<li class="chapter" data-level="4.2.1" data-path="regresión.html"><a href="regresión.html#en-r"><i class="fa fa-check"></i><b>4.2.1</b> En R:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="clasificación.html"><a href="clasificación.html"><i class="fa fa-check"></i><b>5</b> Clasificación</a><ul>
<li class="chapter" data-level="5.1" data-path="clasificación.html"><a href="clasificación.html#logit-probit"><i class="fa fa-check"></i><b>5.1</b> Logit Probit</a><ul>
<li class="chapter" data-level="5.1.1" data-path="clasificación.html"><a href="clasificación.html#pasos"><i class="fa fa-check"></i><b>5.1.1</b> Pasos</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="clasificación.html"><a href="clasificación.html#arboles-de-clasificación-cart"><i class="fa fa-check"></i><b>5.2</b> Arboles de clasificación (CART)</a><ul>
<li class="chapter" data-level="5.2.1" data-path="clasificación.html"><a href="clasificación.html#pasos-1"><i class="fa fa-check"></i><b>5.2.1</b> Pasos</a></li>
<li class="chapter" data-level="5.2.2" data-path="clasificación.html"><a href="clasificación.html#proceso-de-pruning-podado"><i class="fa fa-check"></i><b>5.2.2</b> Proceso de pruning (podado)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="clasificación.html"><a href="clasificación.html#naive-bayes"><i class="fa fa-check"></i><b>5.3</b> Naive Bayes</a></li>
<li class="chapter" data-level="5.4" data-path="clasificación.html"><a href="clasificación.html#ejercicios."><i class="fa fa-check"></i><b>5.4</b> Ejercicios.</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="minería-de-texto.html"><a href="minería-de-texto.html"><i class="fa fa-check"></i><b>6</b> Minería de Texto</a><ul>
<li class="chapter" data-level="6.1" data-path="minería-de-texto.html"><a href="minería-de-texto.html#introducción"><i class="fa fa-check"></i><b>6.1</b> Introducción</a><ul>
<li class="chapter" data-level="6.1.1" data-path="minería-de-texto.html"><a href="minería-de-texto.html#en-la-práctica"><i class="fa fa-check"></i><b>6.1.1</b> En la práctica</a></li>
<li class="chapter" data-level="6.1.2" data-path="minería-de-texto.html"><a href="minería-de-texto.html#por-qué-importa"><i class="fa fa-check"></i><b>6.1.2</b> ¿Por qué importa?</a></li>
<li class="chapter" data-level="6.1.3" data-path="minería-de-texto.html"><a href="minería-de-texto.html#las-consecuencias-de-ignorarlo"><i class="fa fa-check"></i><b>6.1.3</b> Las consecuencias de ignorarlo</a></li>
<li class="chapter" data-level="6.1.4" data-path="minería-de-texto.html"><a href="minería-de-texto.html#beneficios"><i class="fa fa-check"></i><b>6.1.4</b> Beneficios</a></li>
<li class="chapter" data-level="6.1.5" data-path="minería-de-texto.html"><a href="minería-de-texto.html#flujo-de-trabajo-en-la-minería-de-texto"><i class="fa fa-check"></i><b>6.1.5</b> Flujo de trabajo en la minería de texto</a></li>
<li class="chapter" data-level="6.1.6" data-path="minería-de-texto.html"><a href="minería-de-texto.html#librerías-en-r-para-texto"><i class="fa fa-check"></i><b>6.1.6</b> Librerías en R para texto</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="minería-de-texto.html"><a href="minería-de-texto.html#recolección-de-texto"><i class="fa fa-check"></i><b>6.2</b> Recolección de texto</a><ul>
<li class="chapter" data-level="6.2.1" data-path="minería-de-texto.html"><a href="minería-de-texto.html#csv"><i class="fa fa-check"></i><b>6.2.1</b> CSV</a></li>
<li class="chapter" data-level="6.2.2" data-path="minería-de-texto.html"><a href="minería-de-texto.html#colección-de-documentos"><i class="fa fa-check"></i><b>6.2.2</b> Colección de documentos</a></li>
<li class="chapter" data-level="6.2.3" data-path="minería-de-texto.html"><a href="minería-de-texto.html#twitter-api"><i class="fa fa-check"></i><b>6.2.3</b> Twitter (API)</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="minería-de-texto.html"><a href="minería-de-texto.html#nubes-de-palabras"><i class="fa fa-check"></i><b>6.3</b> Nubes de palabras</a></li>
<li class="chapter" data-level="6.4" data-path="minería-de-texto.html"><a href="minería-de-texto.html#análisis-de-sentimiento-sentimental-scoring"><i class="fa fa-check"></i><b>6.4</b> Análisis de sentimiento (sentimental scoring)</a><ul>
<li class="chapter" data-level="6.4.1" data-path="minería-de-texto.html"><a href="minería-de-texto.html#polarización-y-léxico-subjetivo"><i class="fa fa-check"></i><b>6.4.1</b> Polarización y léxico subjetivo</a></li>
<li class="chapter" data-level="6.4.2" data-path="minería-de-texto.html"><a href="minería-de-texto.html#polarización-en-qdap"><i class="fa fa-check"></i><b>6.4.2</b> Polarización en QDAP</a></li>
<li class="chapter" data-level="6.4.3" data-path="minería-de-texto.html"><a href="minería-de-texto.html#librería-syuzhet"><i class="fa fa-check"></i><b>6.4.3</b> Librería syuzhet</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Minería de datos con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="regresión" class="section level1">
<h1><span class="header-section-number">4</span> Regresión</h1>
<p><span class="math display">\[y=f(x_1,x_2, \ldots)\]</span></p>
<ul>
<li><span class="math inline">\(y\)</span> Variable de resultado, dependiente, solo tenemos a una <span class="math inline">\(y\)</span>.</li>
<li><span class="math inline">\(x_1, x_2, \ldots\)</span>, variables de control, independientes.</li>
</ul>
<p>A partir de estas variables:</p>
<ul>
<li>¿Cuál es la relación de <span class="math inline">\(x\)</span> sobre <span class="math inline">\(y\)</span>?
<ul>
<li>Lineal</li>
</ul></li>
</ul>
<p><span class="math display">\[y_i=\beta_0+\beta_1 x_1+\beta_2x_2+\ldots+\epsilon_i\]</span>
&gt; Nota: Diferenciar que la regresión busca establacer relaciones basadas en los datos y no asi un proceso causal.</p>
<pre><code>+ Polinomial
+ Etc; No lineal,</code></pre>
<ul>
<li>Conocer la naturaleza de <span class="math inline">\(y\)</span> y las variables <span class="math inline">\(x\)</span>
<ul>
<li><span class="math inline">\(Y\)</span> es cuanti (real), <span class="math inline">\(X\)</span> cuanti.</li>
<li><span class="math inline">\(Y\)</span> es cuanti (discreta &gt;= 0), <span class="math inline">\(X\)</span> cuanti.</li>
<li><span class="math inline">\(Y\)</span> es cuali nominal binario, <span class="math inline">\(X\)</span> mixtas.</li>
<li><span class="math inline">\(Y\)</span> es cuali ordinal, <span class="math inline">\(X\)</span> mixtas.</li>
</ul></li>
</ul>
<div id="regresión-lineal" class="section level2">
<h2><span class="header-section-number">4.1</span> Regresión lineal</h2>
<div id="paso-1-base-de-datos" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Paso 1: Base de datos</h3>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="regresión.html#cb184-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb184-2"><a href="regresión.html#cb184-2"></a><span class="kw">load</span>(<span class="st">&quot;C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">ALVARO</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">GitHub</span><span class="ch">\\</span><span class="st">EST-384</span><span class="ch">\\</span><span class="st">data</span><span class="ch">\\</span><span class="st">eh18.Rdata&quot;</span>)</span>
<span id="cb184-3"><a href="regresión.html#cb184-3"></a>bd&lt;-eh18p <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(s02a_<span class="dv">03</span><span class="op">&gt;=</span><span class="dv">18</span> <span class="op">&amp;</span><span class="st"> </span>s02a_<span class="dv">05</span><span class="op">==</span><span class="st">&quot;1.JEFE O JEFA DEL HOGAR&quot;</span> <span class="op">&amp;</span><span class="st"> </span>ocupado<span class="op">==</span><span class="st">&quot;Si&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(s02a_<span class="dv">02</span>,s02a_<span class="dv">03</span>,aestudio,tothrs,ylab,ynolab,factor,estrato, upm,area,permanente,cob_op)</span></code></pre></div>
</div>
<div id="paso-2-establecer-la-relación-de-interés." class="section level3">
<h3><span class="header-section-number">4.1.2</span> Paso 2: Establecer la relación de interés.</h3>
<ul>
<li><span class="math inline">\(Y\)</span> Ingreso laboral puede ser un buena opción</li>
<li><span class="math inline">\(X\)</span> el resto, pueden ser basadas en un modelo teórico o buscadas a partir de un proceso de minería de datos</li>
</ul>
<p><span class="math display">\[IngresoLaboral=f(edad,sexo,educación,...)\]</span></p>
</div>
<div id="paso-3-definir-el-modelo-a-utilizar" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Paso 3: Definir el modelo a utilizar</h3>
<p>OLS, MCO. Modelos lineales</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="regresión.html#cb185-1"></a>m1&lt;-<span class="kw">lm</span>(ylab<span class="op">~</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>bd)<span class="co"># regresión lineal simple y=f(x)</span></span>
<span id="cb185-2"><a href="regresión.html#cb185-2"></a>m1</span></code></pre></div>
<p><span class="math display">\[ylab_i=\beta_0+\beta_1edad_i+\epsilon_i\]</span></p>
<p><span class="math display">\[E[ylab_i]=4112.16-21.84*edad_i\]</span></p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="regresión.html#cb186-1"></a><span class="kw">plot</span>(bd<span class="op">$</span>s02a_<span class="dv">03</span>,bd<span class="op">$</span>ylab)</span>
<span id="cb186-2"><a href="regresión.html#cb186-2"></a><span class="kw">abline</span>(m1,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>,<span class="dt">lwd=</span><span class="dv">2</span>)</span>
<span id="cb186-3"><a href="regresión.html#cb186-3"></a><span class="kw">summary</span>(m1)</span>
<span id="cb186-4"><a href="regresión.html#cb186-4"></a><span class="co">#en los betas</span></span>
<span id="cb186-5"><a href="regresión.html#cb186-5"></a><span class="kw">coefficients</span>(m1)</span>
<span id="cb186-6"><a href="regresión.html#cb186-6"></a><span class="kw">confint</span>(m1,<span class="dt">level=</span><span class="fl">0.99</span>)</span>
<span id="cb186-7"><a href="regresión.html#cb186-7"></a><span class="co">#mejorar el modelo</span></span>
<span id="cb186-8"><a href="regresión.html#cb186-8"></a>m2&lt;-<span class="kw">lm</span>(ylab<span class="op">~</span>s02a_<span class="dv">03</span><span class="op">+</span>aestudio<span class="op">+</span>tothrs<span class="op">+</span>ynolab<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area<span class="op">+</span>cob_op,<span class="dt">data=</span>bd)</span>
<span id="cb186-9"><a href="regresión.html#cb186-9"></a><span class="kw">summary</span>(m2)</span>
<span id="cb186-10"><a href="regresión.html#cb186-10"></a>m3&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span>s02a_<span class="dv">03</span><span class="op">+</span>aestudio<span class="op">+</span>tothrs<span class="op">+</span>ynolab<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area<span class="op">+</span>cob_op,<span class="dt">data=</span>bd)</span>
<span id="cb186-11"><a href="regresión.html#cb186-11"></a><span class="kw">summary</span>(m3)</span>
<span id="cb186-12"><a href="regresión.html#cb186-12"></a>m4&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span>s02a_<span class="dv">03</span><span class="op">+</span><span class="kw">factor</span>(aestudio)<span class="op">+</span>tothrs<span class="op">+</span>ynolab<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area<span class="op">+</span>cob_op,<span class="dt">data=</span>bd)</span>
<span id="cb186-13"><a href="regresión.html#cb186-13"></a><span class="kw">summary</span>(m4)</span></code></pre></div>
</div>
<div id="paso-4-optimizar-el-modelo" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Paso 4: Optimizar el modelo</h3>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="regresión.html#cb187-1"></a>m5&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span>.,<span class="dt">data=</span>bd[,<span class="op">-</span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">11</span>)])</span>
<span id="cb187-2"><a href="regresión.html#cb187-2"></a><span class="kw">summary</span>(m5)</span>
<span id="cb187-3"><a href="regresión.html#cb187-3"></a>m6&lt;-<span class="kw">step</span>(m5)</span>
<span id="cb187-4"><a href="regresión.html#cb187-4"></a><span class="kw">summary</span>(m6)</span>
<span id="cb187-5"><a href="regresión.html#cb187-5"></a><span class="co">#un ejemplo de laboratorio</span></span>
<span id="cb187-6"><a href="regresión.html#cb187-6"></a>bd2&lt;-<span class="kw">as.data.frame</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>),<span class="dt">ncol =</span> <span class="dv">8</span>))</span>
<span id="cb187-7"><a href="regresión.html#cb187-7"></a><span class="kw">names</span>(bd2)[<span class="dv">1</span>]&lt;-<span class="st">&quot;y&quot;</span></span>
<span id="cb187-8"><a href="regresión.html#cb187-8"></a>bd2<span class="op">$</span>x&lt;-bd2<span class="op">$</span>y<span class="op">+</span><span class="kw">runif</span>(<span class="dv">125</span>)</span>
<span id="cb187-9"><a href="regresión.html#cb187-9"></a><span class="kw">plot</span>(bd2<span class="op">$</span>x,bd2<span class="op">$</span>y)</span>
<span id="cb187-10"><a href="regresión.html#cb187-10"></a><span class="kw">plot</span>(bd2)</span>
<span id="cb187-11"><a href="regresión.html#cb187-11"></a>p1&lt;-<span class="kw">lm</span>(y<span class="op">~</span>.,<span class="dt">data=</span>bd2)</span>
<span id="cb187-12"><a href="regresión.html#cb187-12"></a><span class="kw">summary</span>(p1)</span>
<span id="cb187-13"><a href="regresión.html#cb187-13"></a>p2&lt;-<span class="kw">step</span>(p1)</span>
<span id="cb187-14"><a href="regresión.html#cb187-14"></a><span class="kw">summary</span>(p2)</span></code></pre></div>
<p>Nota: Se debe tener en cuenta siempre la fuente de la información</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="regresión.html#cb188-1"></a><span class="kw">summary</span>(m4)</span>
<span id="cb188-2"><a href="regresión.html#cb188-2"></a><span class="kw">summary</span>(<span class="kw">lm</span>(ylab<span class="op">~</span><span class="kw">factor</span>(aestudio)<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>bd))</span>
<span id="cb188-3"><a href="regresión.html#cb188-3"></a><span class="kw">summary</span>(<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span><span class="kw">factor</span>(aestudio)<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>bd))</span>
<span id="cb188-4"><a href="regresión.html#cb188-4"></a><span class="co">#estamos suponiendo una relación lineal</span></span>
<span id="cb188-5"><a href="regresión.html#cb188-5"></a><span class="co">#las relaciones que encontramos son a nivel de la muestra</span></span>
<span id="cb188-6"><a href="regresión.html#cb188-6"></a><span class="co">#para hacer inferencia el mejor camino es la libreria survey</span></span>
<span id="cb188-7"><a href="regresión.html#cb188-7"></a><span class="kw">summary</span>(<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span><span class="kw">factor</span>(aestudio)<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>bd))<span class="co">#MCO,OLS</span></span>
<span id="cb188-8"><a href="regresión.html#cb188-8"></a><span class="kw">summary</span>(<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span><span class="kw">factor</span>(aestudio)<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span></span>
<span id="cb188-9"><a href="regresión.html#cb188-9"></a>           ,<span class="dt">weights =</span> factor ,<span class="dt">data=</span>bd))<span class="co">#MCP</span></span></code></pre></div>
</div>
<div id="paso-5-validar-el-modelo" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Paso 5: Validar el modelo</h3>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="regresión.html#cb189-1"></a><span class="co">#Supuestos del modelo</span></span>
<span id="cb189-2"><a href="regresión.html#cb189-2"></a><span class="co">## los errores se distribuyen normal(media=0, varianza=constante)</span></span>
<span id="cb189-3"><a href="regresión.html#cb189-3"></a><span class="co">## Independencia entre los X del modelo</span></span>
<span id="cb189-4"><a href="regresión.html#cb189-4"></a><span class="co"># los errores se distribuyen normal</span></span>
<span id="cb189-5"><a href="regresión.html#cb189-5"></a>model&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span>s02a_<span class="dv">03</span><span class="op">+</span>aestudio<span class="op">+</span>tothrs<span class="op">+</span>ynolab<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area<span class="op">+</span>cob_op,<span class="dt">data=</span>bd)</span>
<span id="cb189-6"><a href="regresión.html#cb189-6"></a><span class="kw">summary</span>(model)</span>
<span id="cb189-7"><a href="regresión.html#cb189-7"></a></span>
<span id="cb189-8"><a href="regresión.html#cb189-8"></a><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb189-9"><a href="regresión.html#cb189-9"></a><span class="kw">plot</span>(model)</span>
<span id="cb189-10"><a href="regresión.html#cb189-10"></a><span class="kw">dev.off</span>()</span>
<span id="cb189-11"><a href="regresión.html#cb189-11"></a><span class="co">#errores</span></span>
<span id="cb189-12"><a href="regresión.html#cb189-12"></a>ee&lt;-<span class="kw">residuals</span>(model)</span>
<span id="cb189-13"><a href="regresión.html#cb189-13"></a><span class="kw">plot</span>(<span class="kw">density</span>(ee))</span>
<span id="cb189-14"><a href="regresión.html#cb189-14"></a><span class="co">#prueba de normalidad</span></span>
<span id="cb189-15"><a href="regresión.html#cb189-15"></a><span class="co">#H0 x ~ normal()</span></span>
<span id="cb189-16"><a href="regresión.html#cb189-16"></a><span class="kw">library</span>(normtest)</span>
<span id="cb189-17"><a href="regresión.html#cb189-17"></a><span class="kw">library</span>(nortest)</span>
<span id="cb189-18"><a href="regresión.html#cb189-18"></a><span class="kw">ad.test</span>(ee)</span>
<span id="cb189-19"><a href="regresión.html#cb189-19"></a><span class="kw">lillie.test</span>(ee)</span>
<span id="cb189-20"><a href="regresión.html#cb189-20"></a><span class="kw">boxplot</span>(bd<span class="op">$</span>ylab)</span>
<span id="cb189-21"><a href="regresión.html#cb189-21"></a><span class="co">#La normalidad de los errores</span></span>
<span id="cb189-22"><a href="regresión.html#cb189-22"></a><span class="kw">plot</span>(<span class="kw">density</span>(ee))</span>
<span id="cb189-23"><a href="regresión.html#cb189-23"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x,<span class="kw">mean</span>(ee),<span class="kw">sd</span>(ee)),<span class="dt">add=</span>T,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb189-24"><a href="regresión.html#cb189-24"></a><span class="co">#limitar los datos hasta el percentil </span></span>
<span id="cb189-25"><a href="regresión.html#cb189-25"></a>punto&lt;-<span class="kw">c</span>(<span class="fl">0.01</span>,<span class="fl">0.90</span>)</span>
<span id="cb189-26"><a href="regresión.html#cb189-26"></a>puntonl&lt;-<span class="kw">c</span>(<span class="fl">0.99</span>)</span>
<span id="cb189-27"><a href="regresión.html#cb189-27"></a>z&lt;-<span class="kw">quantile</span>(bd<span class="op">$</span>ylab,punto,<span class="dt">na.rm=</span>T)</span>
<span id="cb189-28"><a href="regresión.html#cb189-28"></a>znl&lt;-<span class="kw">quantile</span>(bd<span class="op">$</span>ynolab,puntonl,<span class="dt">na.rm=</span>T)</span>
<span id="cb189-29"><a href="regresión.html#cb189-29"></a>znl</span>
<span id="cb189-30"><a href="regresión.html#cb189-30"></a>bd2&lt;-bd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>((ylab<span class="op">&lt;</span>z[<span class="dv">2</span>] <span class="op">&amp;</span><span class="st"> </span>ylab<span class="op">&gt;</span>z[<span class="dv">1</span>]))</span>
<span id="cb189-31"><a href="regresión.html#cb189-31"></a><span class="kw">boxplot</span>(bd2<span class="op">$</span>ynolab)</span>
<span id="cb189-32"><a href="regresión.html#cb189-32"></a></span>
<span id="cb189-33"><a href="regresión.html#cb189-33"></a><span class="co">#definiendo el modelo sin atípicos</span></span>
<span id="cb189-34"><a href="regresión.html#cb189-34"></a>model1&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span>s02a_<span class="dv">03</span><span class="op">+</span>aestudio<span class="op">+</span>tothrs<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area,<span class="dt">data=</span>bd2)</span>
<span id="cb189-35"><a href="regresión.html#cb189-35"></a><span class="kw">summary</span>(model1)</span>
<span id="cb189-36"><a href="regresión.html#cb189-36"></a><span class="kw">boxplot</span>(bd2<span class="op">$</span>ylab)</span>
<span id="cb189-37"><a href="regresión.html#cb189-37"></a></span>
<span id="cb189-38"><a href="regresión.html#cb189-38"></a>ee1&lt;-<span class="kw">residuals</span>(model1)</span>
<span id="cb189-39"><a href="regresión.html#cb189-39"></a><span class="kw">ad.test</span>(ee1)</span>
<span id="cb189-40"><a href="regresión.html#cb189-40"></a><span class="kw">lillie.test</span>(ee1)</span>
<span id="cb189-41"><a href="regresión.html#cb189-41"></a><span class="kw">ks.test</span>(ee1,<span class="st">&quot;pnorm&quot;</span>,<span class="kw">mean</span>(ee1),<span class="kw">sd</span>(ee1))<span class="co">#kolmogorov Smirnofv</span></span>
<span id="cb189-42"><a href="regresión.html#cb189-42"></a></span>
<span id="cb189-43"><a href="regresión.html#cb189-43"></a><span class="kw">plot</span>(<span class="kw">density</span>(ee1))</span>
<span id="cb189-44"><a href="regresión.html#cb189-44"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x,<span class="kw">mean</span>(ee1),<span class="kw">sd</span>(ee1)),<span class="dt">add=</span>T,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb189-45"><a href="regresión.html#cb189-45"></a><span class="kw">plot</span>(model1)</span>
<span id="cb189-46"><a href="regresión.html#cb189-46"></a></span>
<span id="cb189-47"><a href="regresión.html#cb189-47"></a><span class="co"># Distancia de Cook</span></span>
<span id="cb189-48"><a href="regresión.html#cb189-48"></a><span class="kw">plot</span>(<span class="kw">cooks.distance</span>(model1))</span>
<span id="cb189-49"><a href="regresión.html#cb189-49"></a>cc&lt;-<span class="kw">cooks.distance</span>(model1)</span>
<span id="cb189-50"><a href="regresión.html#cb189-50"></a>bd3&lt;-bd2[cc<span class="op">&lt;</span><span class="kw">quantile</span>(cc,<span class="fl">0.90</span>),]</span>
<span id="cb189-51"><a href="regresión.html#cb189-51"></a>model3&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span>s02a_<span class="dv">03</span><span class="op">+</span>aestudio<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area,<span class="dt">data=</span>bd3)</span>
<span id="cb189-52"><a href="regresión.html#cb189-52"></a><span class="kw">summary</span>(model3)</span>
<span id="cb189-53"><a href="regresión.html#cb189-53"></a><span class="kw">ad.test</span>(<span class="kw">residuals</span>(model3))</span>
<span id="cb189-54"><a href="regresión.html#cb189-54"></a><span class="kw">lillie.test</span>(<span class="kw">residuals</span>(model3))</span>
<span id="cb189-55"><a href="regresión.html#cb189-55"></a></span>
<span id="cb189-56"><a href="regresión.html#cb189-56"></a><span class="kw">plot</span>(<span class="kw">density</span>(<span class="kw">residuals</span>(model3)))</span>
<span id="cb189-57"><a href="regresión.html#cb189-57"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x,<span class="kw">mean</span>(<span class="kw">residuals</span>(model3)),<span class="kw">sd</span>(<span class="kw">residuals</span>(model3))),<span class="dt">add=</span>T,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb189-58"><a href="regresión.html#cb189-58"></a><span class="kw">plot</span>(model3)</span>
<span id="cb189-59"><a href="regresión.html#cb189-59"></a><span class="kw">plot</span>(<span class="kw">cooks.distance</span>(model3))</span>
<span id="cb189-60"><a href="regresión.html#cb189-60"></a><span class="co">#ajustando polinomios</span></span>
<span id="cb189-61"><a href="regresión.html#cb189-61"></a>bd3&lt;-<span class="kw">na.omit</span>(bd3)</span>
<span id="cb189-62"><a href="regresión.html#cb189-62"></a>model4&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span><span class="kw">poly</span>(s02a_<span class="dv">03</span>,<span class="dv">2</span>)<span class="op">+</span><span class="kw">poly</span>(aestudio,<span class="dv">3</span>)<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area,<span class="dt">data=</span>bd3)</span>
<span id="cb189-63"><a href="regresión.html#cb189-63"></a><span class="kw">summary</span>(model4)</span>
<span id="cb189-64"><a href="regresión.html#cb189-64"></a></span>
<span id="cb189-65"><a href="regresión.html#cb189-65"></a><span class="kw">ad.test</span>(<span class="kw">residuals</span>(model4))</span>
<span id="cb189-66"><a href="regresión.html#cb189-66"></a><span class="co">## interacciones entre variables</span></span>
<span id="cb189-67"><a href="regresión.html#cb189-67"></a>model5&lt;-<span class="kw">lm</span>(<span class="kw">log</span>(ylab)<span class="op">~</span><span class="kw">poly</span>(s02a_<span class="dv">03</span>,<span class="dv">2</span>)<span class="op">+</span><span class="kw">poly</span>(aestudio,<span class="dv">3</span>)<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">+</span>area<span class="op">+</span>s02a_<span class="dv">02</span><span class="op">:</span>aestudio<span class="op">+</span>area<span class="op">:</span>aestudio<span class="op">+</span><span class="kw">exp</span>(aestudio)<span class="op">+</span><span class="kw">I</span>(aestudio<span class="op">^</span><span class="dv">4</span>),<span class="dt">data=</span>bd3)</span>
<span id="cb189-68"><a href="regresión.html#cb189-68"></a><span class="kw">summary</span>(model5)</span>
<span id="cb189-69"><a href="regresión.html#cb189-69"></a><span class="kw">ad.test</span>(<span class="kw">residuals</span>(model5))</span>
<span id="cb189-70"><a href="regresión.html#cb189-70"></a></span>
<span id="cb189-71"><a href="regresión.html#cb189-71"></a><span class="co">#trabajando sobre los valores atípicos desde R</span></span>
<span id="cb189-72"><a href="regresión.html#cb189-72"></a><span class="kw">library</span>(MASS)</span>
<span id="cb189-73"><a href="regresión.html#cb189-73"></a>modela&lt;-<span class="kw">rlm</span>(ylab<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span><span class="op">+</span>area,<span class="dt">data=</span>bd2)</span>
<span id="cb189-74"><a href="regresión.html#cb189-74"></a>modelb&lt;-<span class="kw">lm</span>(ylab<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span><span class="op">+</span>area,<span class="dt">data=</span>bd2)</span>
<span id="cb189-75"><a href="regresión.html#cb189-75"></a><span class="kw">summary</span>(modela)</span>
<span id="cb189-76"><a href="regresión.html#cb189-76"></a><span class="kw">summary</span>(modelb)</span>
<span id="cb189-77"><a href="regresión.html#cb189-77"></a><span class="kw">ad.test</span>(<span class="kw">residuals</span>(model))</span>
<span id="cb189-78"><a href="regresión.html#cb189-78"></a><span class="co"># Colinealidad (X1=f(X2)</span></span>
<span id="cb189-79"><a href="regresión.html#cb189-79"></a><span class="kw">library</span>(car)</span>
<span id="cb189-80"><a href="regresión.html#cb189-80"></a><span class="kw">vif</span>(model3)</span>
<span id="cb189-81"><a href="regresión.html#cb189-81"></a><span class="kw">sqrt</span>(<span class="kw">vif</span>(model3))<span class="op">&gt;</span><span class="dv">2</span> <span class="co">##Variance Inflation Factors</span></span>
<span id="cb189-82"><a href="regresión.html#cb189-82"></a><span class="co"># Verificar si la varianza es constante (homocedástico) o no (heterocedástico)</span></span>
<span id="cb189-83"><a href="regresión.html#cb189-83"></a><span class="kw">library</span>(lmtest)</span>
<span id="cb189-84"><a href="regresión.html#cb189-84"></a><span class="kw">bptest</span>(model3) <span class="co"># H0: Homocedsticidad https://en.wikipedia.org/wiki/Breusch%E2%80%93Pagan_test</span></span>
<span id="cb189-85"><a href="regresión.html#cb189-85"></a></span>
<span id="cb189-86"><a href="regresión.html#cb189-86"></a><span class="co">#corrigiendo </span></span>
<span id="cb189-87"><a href="regresión.html#cb189-87"></a><span class="kw">library</span>(rms)</span>
<span id="cb189-88"><a href="regresión.html#cb189-88"></a>model1 =<span class="st"> </span><span class="kw">ols</span>(ylab<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span><span class="op">+</span>area,<span class="dt">data=</span>bd3,<span class="dt">x=</span>T,<span class="dt">y=</span>T)</span>
<span id="cb189-89"><a href="regresión.html#cb189-89"></a><span class="kw">bptest</span>(model1)</span>
<span id="cb189-90"><a href="regresión.html#cb189-90"></a>aux&lt;-<span class="kw">robcov</span>(model1)</span>
<span id="cb189-91"><a href="regresión.html#cb189-91"></a>aux</span>
<span id="cb189-92"><a href="regresión.html#cb189-92"></a><span class="co"># H0: Homocedasticidad, implica que los EE de B no son los correctos</span></span></code></pre></div>
</div>
<div id="paso-6-predicir-a-partir-del-modelo" class="section level3">
<h3><span class="header-section-number">4.1.6</span> Paso 6: Predicir a partir del modelo</h3>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="regresión.html#cb190-1"></a>test&lt;-bd3</span>
<span id="cb190-2"><a href="regresión.html#cb190-2"></a>yest&lt;-<span class="kw">predict</span>(model3,test)</span>
<span id="cb190-3"><a href="regresión.html#cb190-3"></a><span class="kw">plot</span>(<span class="kw">log</span>(bd3<span class="op">$</span>ylab),yest)</span>
<span id="cb190-4"><a href="regresión.html#cb190-4"></a><span class="kw">plot</span>(bd3<span class="op">$</span>ylab,<span class="kw">exp</span>(yest))</span></code></pre></div>
</div>
</div>
<div id="probit-y-logit" class="section level2">
<h2><span class="header-section-number">4.2</span> Probit y Logit</h2>
<p>Estrategia, llevar valores binarios a valores continuos. Mediante una función de enlace (<span class="math inline">\(F(Y)\)</span>).</p>
<p><span class="math display">\[F(Y)=Y&#39;=X \beta +\epsilon\]</span></p>
<p>Probit:</p>
<p><span class="math display">\[Y=\Phi (X \beta +\epsilon)\]</span>
<span class="math display">\[\phi^{-1}(Y)=X \beta +\epsilon\]</span>
<span class="math display">\[Y&#39;=X \beta +\epsilon\]</span></p>
<p>El enlace <span class="math inline">\(F(Y)=\Phi^{-1}(Y)\)</span>, es conocida como probit.</p>
<p>Logit:</p>
<p><span class="math display">\[logit(Y)=log(\frac{Y}{1-Y})=X\beta+\epsilon\]</span></p>
<p><span class="math display">\[Y=\frac{e^{X\beta+\epsilon}}{1+e^{X\beta+\epsilon}}\]</span></p>
<div id="en-r" class="section level3">
<h3><span class="header-section-number">4.2.1</span> En R:</h3>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="regresión.html#cb191-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb191-2"><a href="regresión.html#cb191-2"></a><span class="kw">load</span>(<span class="st">&quot;C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">ALVARO</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">GitHub</span><span class="ch">\\</span><span class="st">EST-384</span><span class="ch">\\</span><span class="st">data</span><span class="ch">\\</span><span class="st">eh18.Rdata&quot;</span>)</span>
<span id="cb191-3"><a href="regresión.html#cb191-3"></a>aux&lt;-<span class="kw">levels</span>(eh18p<span class="op">$</span>s04a_01a)</span>
<span id="cb191-4"><a href="regresión.html#cb191-4"></a>eh18p&lt;-eh18p <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">diabetes=</span>(s04a_01a<span class="op">==</span>aux[<span class="dv">1</span>] <span class="op">|</span><span class="st"> </span>s04a_01b<span class="op">==</span>aux[<span class="dv">1</span>]),<span class="dt">corazon=</span>(s04a_01a<span class="op">==</span>aux[<span class="dv">4</span>] <span class="op">|</span><span class="st"> </span>s04a_01b<span class="op">==</span>aux[<span class="dv">4</span>]),<span class="dt">hiper=</span>(s04a_01a<span class="op">==</span>aux[<span class="dv">10</span>] <span class="op">|</span><span class="st"> </span>s04a_01b<span class="op">==</span>aux[<span class="dv">10</span>]))</span>
<span id="cb191-5"><a href="regresión.html#cb191-5"></a>eh18p<span class="op">$</span>diabetes&lt;-(eh18p<span class="op">$</span>diabetes<span class="op">==</span>T); eh18p<span class="op">$</span>diabetes[<span class="kw">is.na</span>(eh18p<span class="op">$</span>diabetes)]&lt;-F</span>
<span id="cb191-6"><a href="regresión.html#cb191-6"></a>eh18p<span class="op">$</span>corazon&lt;-(eh18p<span class="op">$</span>corazon<span class="op">==</span>T); eh18p<span class="op">$</span>corazon[<span class="kw">is.na</span>(eh18p<span class="op">$</span>corazon)]&lt;-F</span>
<span id="cb191-7"><a href="regresión.html#cb191-7"></a>eh18p<span class="op">$</span>hiper&lt;-(eh18p<span class="op">$</span>hiper<span class="op">==</span>T); eh18p<span class="op">$</span>hiper[<span class="kw">is.na</span>(eh18p<span class="op">$</span>hiper)]&lt;-F</span>
<span id="cb191-8"><a href="regresión.html#cb191-8"></a>eh18p<span class="op">$</span>cronicas&lt;-(eh18p<span class="op">$</span>diabetes<span class="op">+</span>eh18p<span class="op">$</span>corazon<span class="op">+</span>eh18p<span class="op">$</span>hiper)</span>
<span id="cb191-9"><a href="regresión.html#cb191-9"></a><span class="co">#modelo para las enfermedades crónicas</span></span>
<span id="cb191-10"><a href="regresión.html#cb191-10"></a>eh18p<span class="op">$</span>cronicas&lt;-(eh18p<span class="op">$</span>cronicas<span class="op">!=</span><span class="dv">0</span>)</span>
<span id="cb191-11"><a href="regresión.html#cb191-11"></a><span class="co">#probit logit</span></span>
<span id="cb191-12"><a href="regresión.html#cb191-12"></a>logit&lt;-<span class="kw">glm</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p,<span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link=</span><span class="st">&quot;logit&quot;</span>))</span>
<span id="cb191-13"><a href="regresión.html#cb191-13"></a>probit&lt;-<span class="kw">glm</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p,<span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link=</span><span class="st">&quot;probit&quot;</span>))</span>
<span id="cb191-14"><a href="regresión.html#cb191-14"></a>lineal&lt;-<span class="kw">lm</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p)</span>
<span id="cb191-15"><a href="regresión.html#cb191-15"></a><span class="co">#resumen</span></span>
<span id="cb191-16"><a href="regresión.html#cb191-16"></a><span class="kw">summary</span>(logit)</span>
<span id="cb191-17"><a href="regresión.html#cb191-17"></a><span class="kw">summary</span>(probit)</span>
<span id="cb191-18"><a href="regresión.html#cb191-18"></a><span class="kw">summary</span>(lineal)</span>
<span id="cb191-19"><a href="regresión.html#cb191-19"></a><span class="co">#score probabilidades</span></span>
<span id="cb191-20"><a href="regresión.html#cb191-20"></a>lres&lt;-<span class="kw">predict</span>(logit,eh18p,<span class="dt">type=</span><span class="st">&quot;response&quot;</span>)</span>
<span id="cb191-21"><a href="regresión.html#cb191-21"></a>pres&lt;-<span class="kw">predict</span>(probit,eh18p,<span class="dt">type=</span><span class="st">&quot;response&quot;</span>)</span>
<span id="cb191-22"><a href="regresión.html#cb191-22"></a><span class="kw">plot</span>(<span class="kw">density</span>(lres))</span>
<span id="cb191-23"><a href="regresión.html#cb191-23"></a><span class="kw">points</span>(<span class="kw">density</span>(pres),<span class="dt">type =</span> <span class="st">&quot;l&quot;</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb191-24"><a href="regresión.html#cb191-24"></a><span class="co">#efectos marginales</span></span>
<span id="cb191-25"><a href="regresión.html#cb191-25"></a><span class="kw">library</span>(mfx)</span>
<span id="cb191-26"><a href="regresión.html#cb191-26"></a><span class="kw">probitmfx</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p)</span>
<span id="cb191-27"><a href="regresión.html#cb191-27"></a><span class="kw">logitmfx</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p)</span>
<span id="cb191-28"><a href="regresión.html#cb191-28"></a><span class="co">#ajuste</span></span>
<span id="cb191-29"><a href="regresión.html#cb191-29"></a><span class="kw">library</span>(DescTools)</span>
<span id="cb191-30"><a href="regresión.html#cb191-30"></a><span class="kw">PseudoR2</span>(logit)</span>
<span id="cb191-31"><a href="regresión.html#cb191-31"></a><span class="kw">PseudoR2</span>(probit)</span>
<span id="cb191-32"><a href="regresión.html#cb191-32"></a><span class="kw">summary</span>(lineal)</span>
<span id="cb191-33"><a href="regresión.html#cb191-33"></a><span class="co">#comparando</span></span>
<span id="cb191-34"><a href="regresión.html#cb191-34"></a><span class="kw">library</span>(memisc)</span>
<span id="cb191-35"><a href="regresión.html#cb191-35"></a><span class="kw">mtable</span>(logit,probit,lineal)</span></code></pre></div>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="regresión.html#cb192-1"></a><span class="kw">summary</span>(<span class="kw">glm</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p))</span>
<span id="cb192-2"><a href="regresión.html#cb192-2"></a><span class="kw">summary</span>(<span class="kw">lm</span>(cronicas<span class="op">~</span>s02a_<span class="dv">02</span><span class="op">+</span>s02a_<span class="dv">03</span>,<span class="dt">data=</span>eh18p))</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clustering.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="clasificación.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
